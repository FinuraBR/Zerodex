<!DOCTYPE html>
<!-- Define o tipo de documento como HTML5 -->
<html lang="pt-BR">

<head>
    <!-- Metadados do documento -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adicionar Jogo ao Zerodex</title>

    <!-- Links para CSS e Favicon -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/jpg" href="imagens/favicon.jpg">
</head>

<body>
    <!-- ======================= CABEÇALHO ======================= -->
    <header>
        <div class="header-container">
            <h1>Adicionar Jogo</h1>
            <nav>
                <ul>
                    <li><a href="index.html">Início</a></li>
                    <li><a href="jogos.html">Meus Jogos</a></li>
                    <li><a href="sobre.html">Sobre</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- ======================= CONTEÚDO PRINCIPAL ======================= -->
    <main>
        <section id="add-game-section">
            <h2>Buscar Jogo na Base de Dados</h2>
            
            <!-- Passo 1: Busca na API externa -->
            <div id="search-container">
                <input type="text" id="api-search-bar" placeholder="Digite o nome de um jogo...">
                <button id="api-search-button" class="cta-button">Buscar</button>
            </div>

            <!-- Passo 2: Exibição dos resultados da busca -->
            <div id="api-results-container">
                <h3>Resultados da Busca</h3>
                <!-- O JavaScript preencherá os resultados da API aqui dentro -->
                <div class="results-grid">
                    <p>Os resultados da busca aparecerão aqui.</p>
                </div>
            </div>

            <!-- Opção para adicionar um jogo que não foi encontrado na busca -->
            <div class="manual-entry-link">
                <button id="manual-entry-button" class="secondary-btn" style="display: none;">Não encontrou? Adicione manualmente</button>
            </div>

            <!-- ======================= FORMULÁRIO DE ADIÇÃO ======================= -->
            <!-- Este contêiner começa escondido e só aparece após selecionar um jogo ou clicar em "Adicionar manualmente". -->
            <div id="add-form-container" style="display: none;">
                <form id="game-entry-form">
                    <!-- Parte 1: Dados preenchidos pela API (ou manualmente) -->
                    <div class="form-api-data">
                        <!-- A imagem da capa do jogo -->
                        <img id="form-game-image" src="" alt="Capa do Jogo" width="150">
                        <div>
                            <!-- Título do Jogo -->
                            <div class="form-group">
                                <label for="form-game-title-input">Título do Jogo:</label>
                                <input type="text" id="form-game-title-input" required>
                            </div>
                            <!-- Data de lançamento (texto informativo) -->
                            <p id="form-game-release">Lançamento: </p>
                        </div>
                    </div>
                    <hr>
                    <!-- Parte 2: Dados que você precisa preencher -->
                    <div class="form-user-data">
                        <div class="form-group-inline">
                            <!-- ID do Jogo (gerado automaticamente) -->
                            <div class="form-group">
                                <label for="game-id">ID do Jogo:</label>
                                <input type="number" id="game-id" required>
                            </div>
                            <!-- URL da Loja (opcional, ex: Steam, PSN) -->
                            <div class="form-group">
                                <label for="game-store-url">URL da Loja (opcional):</label>
                                <input type="text" id="game-store-url" placeholder="https://...">
                            </div>
                        </div>
                        <!-- Campo para a URL da imagem, caso queira usar uma diferente da API -->
                        <div class="form-group" id="manual-image-group">
                            <label for="game-image-url">URL da Imagem da Capa:</label>
                            <input type="text" id="game-image-url" placeholder="https://...">
                        </div>
                        <!-- Status do Jogo (Jogando, Finalizado, etc.) -->
                        <div class="form-group"><label for="game-status">Status:</label><select id="game-status" required></select></div>
                        <!-- Plataforma onde você jogou -->
                        <div class="form-group"><label for="game-platform">Plataforma em que joguei:</label><select id="game-platform" required></select></div>
                        <!-- Detalhes sobre a Tradução -->
                        <div class="form-group-inline">
                            <div class="form-group">
                                <label for="game-translation">Tradução:</label>
                                <select id="game-translation">
                                    <option value="Oficial">Oficial</option>
                                    <option value="Não possui">Não possui</option>
                                    <option value="fan">Feita por Fã</option>
                                </select>
                            </div>
                            <!-- Campo para o link da tradução de fã (só aparece se a opção for selecionada) -->
                            <div class="form-group" id="fan-translation-link-group" style="display: none;">
                                <label for="fan-translation-link">Link da Tradução:</label>
                                <input type="text" id="fan-translation-link" placeholder="https://...">
                            </div>
                        </div>
                        <!-- Seção para adicionar guias/tutoriais (opcional) -->
                        <div class="form-group">
                            <label>Guias (opcional):</label>
                            <!-- A lista de guias adicionados aparecerá aqui -->
                            <div id="guides-list"></div>
                            <div class="form-group-inline" style="margin-top: 5px;">
                                <input type="text" id="guide-title" placeholder="Nome do Guia (ex: IGN)">
                                <input type="text" id="guide-url" placeholder="URL do Guia">
                            </div>
                            <button type="button" id="add-guide-btn" class="secondary-btn">Adicionar Guia</button>
                        </div>
                        <!-- Versão do jogo (Demo, Beta, etc.) -->
                        <div class="form-group">
                            <label for="game-version">Versão (opcional):</label>
                            <select id="game-version">
                                <option value="">Padrão</option>
                                <option value="Demo">Demo</option>
                                <option value="Acesso Antecipado">Acesso Antecipado</option>
                                <option value="Beta">Beta</option>
                            </select>
                        </div>
                        <!-- Seu comentário ou mini-review sobre o jogo -->
                        <div class="form-group">
                            <label for="game-review">Seu Comentário (opcional):</label>
                            <textarea id="game-review" rows="3"></textarea>
                        </div>
                        <!-- Botão para gerar o código do objeto do jogo -->
                        <button type="submit" class="cta-button">Salvar no Zerodex</button>
                    </div>
                </form>
            </div>

            <!-- Passo Final: Área de Resultado com o Código Gerado -->
            <div id="output-container" style="display: none; margin-top: 30px;">
                <h3>Código Gerado para database.js</h3>
                <p>Copie o código abaixo e cole no topo da lista `gamesData`.</p>
                <textarea id="output-code" rows="15" readonly></textarea>
                <button type="button" id="copy-code-btn" class="cta-button">Copiar Código</button>
            </div>
        </section>
    </main>
    
    <!-- ======================= SCRIPTS ======================= -->
    <!-- Carrega o contador de ID primeiro -->
    <script src="js/id_counter.js"></script>
    <!-- Carrega o banco de dados (embora não seja usado diretamente aqui, é bom para consistência) -->
    <script src="js/database.js"></script>
    <!-- **NOVO** Link para o arquivo JavaScript externo que controla esta página -->
    <script src="js/adicionar.js"></script>
</body>
</html>